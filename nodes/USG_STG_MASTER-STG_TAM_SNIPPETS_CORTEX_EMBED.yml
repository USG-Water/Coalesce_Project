fileVersion: 1
id: 3142233e-288e-41a2-967f-655edfad6274
name: STG_TAM_SNIPPETS_CORTEX_EMBED
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: USG_STG_MASTER
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 06fd52d5-ac33-446f-a618-ff9c72fb0608
          stepCounter: 3142233e-288e-41a2-967f-655edfad6274
        config: {}
        dataType: VARCHAR(256)
        description: ""
        name: FNC_FIPS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 86c2b5cf-90ba-4c4b-b37e-2af56f7c16c8
                stepCounter: a13d4658-7036-4a6c-a352-36057facb857
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 13bbee2a-bf98-4a23-8202-2984bc9bc5ec
          stepCounter: 3142233e-288e-41a2-967f-655edfad6274
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: CITYLITICS_LEAD_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b22f2a3a-40f5-4957-b0c2-aa9ceb9d50e7
                stepCounter: a13d4658-7036-4a6c-a352-36057facb857
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bea2ef3b-8eba-4ddd-b9e9-4c4608fb07cd
          stepCounter: 3142233e-288e-41a2-967f-655edfad6274
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: CL_SNIPPET_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f8604e3e-e9b4-412e-9e52-4713597b4a8c
                stepCounter: a13d4658-7036-4a6c-a352-36057facb857
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: f29f3d90-c90f-4eb2-9fc6-0210535a423c
          stepCounter: 3142233e-288e-41a2-967f-655edfad6274
        config: {}
        dataType: VARCHAR(256)
        description: ""
        name: FNC_SNIPPET_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 04b4a0e6-6b42-454e-89dc-18b69d683487
                stepCounter: a13d4658-7036-4a6c-a352-36057facb857
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0080ee8c-80b3-4889-89c0-223ad73d0741
          stepCounter: 3142233e-288e-41a2-967f-655edfad6274
        config: {}
        dataType: VARCHAR
        description: ""
        name: SNIPPET_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences: []
            transform: |-
              CASE
                  WHEN "STG_TAM_SNIPPETS"."CL_SNIPPET_ID" IS NOT NULL THEN 'CL_' || "STG_TAM_SNIPPETS"."CL_SNIPPET_ID"
                  WHEN "STG_TAM_SNIPPETS"."FNC_SNIPPET_ID" IS NOT NULL THEN 'FNC_' || "STG_TAM_SNIPPETS"."FNC_SNIPPET_ID"
              END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 11733e73-828d-4fd0-a102-16bbed4cce56
          stepCounter: 3142233e-288e-41a2-967f-655edfad6274
        config: {}
        dataType: VARCHAR(256)
        description: ""
        name: FNC_SNIPPET_TOPIC_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 12843cdb-cd62-4afe-92af-67474fd79530
                stepCounter: a13d4658-7036-4a6c-a352-36057facb857
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 22ba1db8-5906-4f32-8970-ebeacfa4c7b0
          stepCounter: 3142233e-288e-41a2-967f-655edfad6274
        config: {}
        dataType: VARCHAR(256)
        description: ""
        name: CATEGORY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 32746e08-765b-4553-b64c-26090d3ddd63
                stepCounter: a13d4658-7036-4a6c-a352-36057facb857
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: bcc713f2-0b6d-4bd1-9a48-d511ffd2e4ff
          stepCounter: 3142233e-288e-41a2-967f-655edfad6274
        config: {}
        dataType: VARCHAR(256)
        description: ""
        name: TOPIC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 399296c4-e6db-4569-b503-6aba9fde271a
                stepCounter: a13d4658-7036-4a6c-a352-36057facb857
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: de5282bd-5e77-49be-b8e6-12346d8176f8
          stepCounter: 3142233e-288e-41a2-967f-655edfad6274
        config: {}
        dataType: VARCHAR(512)
        description: ""
        name: SNIPPET_URL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: df2ca970-6076-4295-8b31-da4106c77fbc
                stepCounter: a13d4658-7036-4a6c-a352-36057facb857
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 19d8691d-087c-4c2e-96cc-b04f80b6a7c4
          stepCounter: 3142233e-288e-41a2-967f-655edfad6274
        config: {}
        dataType: VARCHAR
        description: ""
        name: SNIPPET_SUMMARY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ce8adb09-b93b-471c-9768-5e8acf0656c4
                stepCounter: a13d4658-7036-4a6c-a352-36057facb857
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 0fd115c6-a5ea-4349-82e4-f52c33676016
          stepCounter: 3142233e-288e-41a2-967f-655edfad6274
        config: {}
        dataType: VARCHAR
        description: ""
        name: SNIPPET
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 13f3268a-036a-49d4-b1e0-393b932a23ff
                stepCounter: a13d4658-7036-4a6c-a352-36057facb857
            transform: ""
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 4c7eddf5-3278-4b31-90c2-baa574d4820e
          stepCounter: 3142233e-288e-41a2-967f-655edfad6274
        config: {}
        dataType: VECTOR(FLOAT, 768)
        defaultValue: ""
        description: ""
        keyColumnType: None
        name: SNIPPET_EMBED
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 13f3268a-036a-49d4-b1e0-393b932a23ff
                stepCounter: a13d4658-7036-4a6c-a352-36057facb857
            transform: SNOWFLAKE.CORTEX.EMBED_TEXT_768('snowflake-arctic-embed-m-v1.5', "STG_TAM_SNIPPETS"."SNIPPET")
        systemColumnType: None
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 43287b89-eece-40dd-aaa7-9a7e30c1a977
          stepCounter: 3142233e-288e-41a2-967f-655edfad6274
        config: {}
        dataType: DATE
        description: ""
        name: TS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b8d42d0b-2054-4fe7-ae21-b7e5c0698fa1
                stepCounter: a13d4658-7036-4a6c-a352-36057facb857
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: af2458c7-8daa-410b-8fb9-b05a36d05c19
          stepCounter: 3142233e-288e-41a2-967f-655edfad6274
        config: {}
        dataType: VARCHAR
        description: ""
        name: SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: d9f1ef53-0730-4979-9375-14720f89af9e
                stepCounter: a13d4658-7036-4a6c-a352-36057facb857
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          STG_TAM_SNIPPETS: a13d4658-7036-4a6c-a352-36057facb857
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: USG_STG_MASTER
            nodeName: STG_TAM_SNIPPETS
        join:
          joinCondition: FROM {{ ref('USG_STG_MASTER', 'STG_TAM_SNIPPETS') }} "STG_TAM_SNIPPETS"
        name: STG_TAM_SNIPPETS_CORTEX_EMBED
        noLinkRefs: []
  name: STG_TAM_SNIPPETS_CORTEX_EMBED
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
