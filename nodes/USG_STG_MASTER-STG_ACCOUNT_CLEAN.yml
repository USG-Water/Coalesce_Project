fileVersion: 1
id: 001f59ff-a436-483a-8ea6-aa1044fa9202
name: STG_ACCOUNT_CLEAN
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Clean account names for easier consolidation
  isMultisource: false
  locationName: USG_STG_MASTER
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 3ec9d2d8-7455-462d-bfef-2a7ef74f9843
          stepCounter: 001f59ff-a436-483a-8ea6-aa1044fa9202
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: OSC_PARTY_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 362cbe01-21d9-4d06-ae80-85452683ac39
                stepCounter: 3af125b2-fd19-4626-91c5-83491903aba0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: dd4aa9f7-9c27-4cd7-a03c-b577cfe2fe8a
          stepCounter: 001f59ff-a436-483a-8ea6-aa1044fa9202
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: HUBSPOT_COMPANY_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: cf8aff69-83ca-40f7-bdd8-d14d8b0929e3
                stepCounter: 3af125b2-fd19-4626-91c5-83491903aba0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 1e4340f3-e8cd-4cf5-9000-49554b7a80d5
          stepCounter: 001f59ff-a436-483a-8ea6-aa1044fa9202
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: EBS_CUSTOMER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: f345bcaa-4a6e-4e92-a902-0ae31dd4284e
                stepCounter: 3af125b2-fd19-4626-91c5-83491903aba0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 645f5332-3a2e-4499-a5ba-88fd56f82cc4
          stepCounter: 001f59ff-a436-483a-8ea6-aa1044fa9202
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: SQL_CUSTOMER_ID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c0092abf-a77e-453d-a3bc-353f173d44fb
                stepCounter: 3af125b2-fd19-4626-91c5-83491903aba0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2fcfff21-55b6-4068-bf2c-44ad20429c3e
          stepCounter: 001f59ff-a436-483a-8ea6-aa1044fa9202
        config: {}
        dataType: VARCHAR
        description: ""
        name: ACCOUNT_OWNER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6cd5cfc4-3fca-49d9-af8d-7066777861c5
                stepCounter: 3af125b2-fd19-4626-91c5-83491903aba0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: ca0c8e2f-ede5-4939-890f-598db7592e74
          stepCounter: 001f59ff-a436-483a-8ea6-aa1044fa9202
        config: {}
        dataType: VARCHAR(256)
        description: ""
        name: NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 82189f6a-d649-4c65-ac07-37250d6425eb
                stepCounter: 3af125b2-fd19-4626-91c5-83491903aba0
            transform: |-
              REGEXP_REPLACE(
                  UPPER(TRIM("STG_MERGE_ACCOUNT"."NAME")),
                  '\\s*-\\s*EPA$',
                  ''
              )
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b3186f80-e85e-45ef-a175-74763fd6c09f
          stepCounter: 001f59ff-a436-483a-8ea6-aa1044fa9202
        config: {}
        dataType: VARCHAR(2048)
        description: ""
        name: DESCRIPTION
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8839b666-da5f-45c6-a56a-824a12f31d6d
                stepCounter: 3af125b2-fd19-4626-91c5-83491903aba0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: be819269-88aa-40e5-926b-38477af74564
          stepCounter: 001f59ff-a436-483a-8ea6-aa1044fa9202
        config: {}
        dataType: VARCHAR(256)
        description: ""
        name: INDUSTRY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: eb12d115-b51f-4d32-9663-724b9fa7fe6b
                stepCounter: 3af125b2-fd19-4626-91c5-83491903aba0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 6402dfd3-2640-4ae2-af49-ed52ecce3938
          stepCounter: 001f59ff-a436-483a-8ea6-aa1044fa9202
        config: {}
        dataType: VARCHAR(256)
        description: ""
        name: URL
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 53e9b076-1113-4a8c-adbf-907e8104c285
                stepCounter: 3af125b2-fd19-4626-91c5-83491903aba0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: a4fa10c6-1c81-4325-adb3-9f3f948e61c5
          stepCounter: 001f59ff-a436-483a-8ea6-aa1044fa9202
        config: {}
        dataType: VARCHAR(150)
        description: ""
        name: PWSID
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 260babf5-b14c-45a7-870c-89ab9fe0eae9
                stepCounter: 3af125b2-fd19-4626-91c5-83491903aba0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 7b31df83-2f6a-447b-ae30-6410af3fb8e0
          stepCounter: 001f59ff-a436-483a-8ea6-aa1044fa9202
        config: {}
        dataType: DATE
        description: ""
        name: LAST_UPDATE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 4aa2028c-0265-4046-b7ea-35a44ff6c8f5
                stepCounter: 3af125b2-fd19-4626-91c5-83491903aba0
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 749d1e18-e1d9-4686-85ca-f3112d304e20
          stepCounter: 001f59ff-a436-483a-8ea6-aa1044fa9202
        config: {}
        dataType: VARCHAR
        description: ""
        name: SOURCE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: ef360f6d-5241-4066-a714-cf7397610379
                stepCounter: 3af125b2-fd19-4626-91c5-83491903aba0
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          STG_MERGE_ACCOUNT: 3af125b2-fd19-4626-91c5-83491903aba0
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: USG_STG_MASTER
            nodeName: STG_MERGE_ACCOUNT
        join:
          joinCondition: FROM {{ ref('USG_STG_MASTER', 'STG_MERGE_ACCOUNT') }} "STG_MERGE_ACCOUNT"
        name: STG_ACCOUNT_CLEAN
        noLinkRefs: []
  name: STG_ACCOUNT_CLEAN
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
